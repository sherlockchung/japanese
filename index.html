<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An-Yu's JLPT N2/N3 çµ‚æ¥µç‰¹è¨“ (å®Œæ•´ç‰ˆ)</title>
    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #818cf8;
            --success: #10b981;
            --error: #ef4444;
            --bg: #f1f5f9;
            --card: #ffffff;
            --text-main: #1e293b;
            --text-sub: #64748b;
        }

        body {
            font-family: 'Hiragino Sans', 'Meiryo', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 15px;
        }

        .container {
            background-color: var(--card);
            width: 100%;
            max-width: 700px;
            border-radius: 20px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        /* æ¨™é¡Œèˆ‡ç‹€æ…‹ */
        h1 {
            color: var(--primary);
            font-size: 1.8rem;
            margin: 0 0 10px 0;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-bottom: 25px;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .progress-track {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 99px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.4s ease;
        }

        /* é¡Œç›®å¡ç‰‡ */
        .quiz-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 30px 20px;
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 4px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3);
        }

        .word-text {
            font-size: 2.5rem;
            font-weight: 800;
            color: #0f172a;
            margin-top: 10px;
            letter-spacing: 0.05em;
        }

        .hint-text {
            font-size: 1rem;
            color: var(--text-sub);
            margin-top: 5px;
            height: 1.5rem; /* ä½”ä½ */
        }

        /* é¸é …æŒ‰éˆ• */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
            .word-text { font-size: 2rem; }
        }

        button.opt-btn {
            background: white;
            border: 2px solid #cbd5e1;
            color: var(--text-main);
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            min-height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button.opt-btn:hover:not(:disabled) {
            border-color: var(--secondary);
            background: #eef2ff;
            transform: translateY(-2px);
        }

        button.opt-btn.correct {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        button.opt-btn.wrong {
            background: var(--error);
            color: white;
            border-color: var(--error);
            opacity: 0.7;
        }

        /* æ§åˆ¶æŒ‰éˆ• */
        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
            transition: background 0.2s;
        }
        .btn-primary:hover { background: #4338ca; }

        .hidden { display: none !important; }
        
        .feedback-area {
            min-height: 30px;
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>

<div class="container">
    
    <div id="start-screen">
        <h1>An-Yu çš„æ—¥æª¢ç‰¹è¨“</h1>
        <div class="subtitle">
            æ”¶éŒ„å–®å­—ï¼šåœ°ç†ã€åª’é«”ã€å­¸æ¥­ã€å•†æ¥­ã€å®¶äº‹ã€èº«é«”<br>
            æ¨¡å¼ï¼šJLPT æ“¬çœŸæ··æ·† (é•·éŸ³/æ¿éŸ³/è‡ªå‹•è©é™·é˜±)
        </div>
        <p style="text-align:center; color:#64748b; margin-bottom: 30px;">
            <span style="display:block; margin-bottom:5px;">ğŸ¯ æ¯æ¬¡æ¸¬é©— 20 é¡Œ</span>
            <span style="display:block; font-size: 0.85rem;">(éŒ¯é¡Œæœƒè‡ªå‹•é‡ä¾†ï¼Œç›´åˆ°å®Œå…¨ç²¾é€š)</span>
        </p>
        <div style="text-align: center;">
            <button class="btn-primary" onclick="startQuiz()">é–‹å§‹æŒ‘æˆ°</button>
        </div>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="stats-row">
            <span id="progress-text">Progress: 0/20</span>
            <span id="queue-text">Remaining: 20</span>
        </div>
        <div class="progress-track">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="quiz-card">
            <div class="badge" id="q-type-badge"></div>
            <div class="word-text" id="q-word"></div>
            <div class="hint-text" id="q-hint"></div>
        </div>

        <div class="options-grid" id="options-container"></div>
        <div class="feedback-area" id="feedback-msg"></div>
    </div>

    <div id="result-screen" class="hidden" style="text-align: center;">
        <h1 style="color: var(--success);">æŒ‘æˆ°æˆåŠŸï¼ğŸ‰</h1>
        <p>æ‚¨å·²æ¸…ç©ºæœ¬æ¬¡æ¸¬é©—çš„æ‰€æœ‰é¡Œç›®ã€‚</p>
        <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin: 20px 0; display:inline-block; text-align: left;">
            <div id="result-stats"></div>
        </div>
        <br>
        <button class="btn-primary" onclick="location.reload()">å†ä¾†ä¸€å±€</button>
    </div>

</div>

<script>
    // ============================================
    // 1. è³‡æ–™åº« (åˆä½µèˆŠè³‡æ–™èˆ‡æ–°è³‡æ–™)
    // ============================================
    const rawData = [
        // --- åŸæœ‰çš„å®¶äº‹/èº«é«”/æ€§æ ¼ ---
        {kanji: "æ¯›ç³¸", kana: "ã‘ã„ã¨", meaning: "æ¯›ç·š"},
        {kanji: "ç·¨ã‚€", kana: "ã‚ã‚€", meaning: "ç·¨ç¹”"},
        {kanji: "åŸƒ", kana: "ã»ã“ã‚Š", meaning: "ç°å¡µ"},
        {kanji: "ç®’", kana: "ã»ã†ã", meaning: "æƒæŠŠ"},
        {kanji: "è£è¿”ã™", kana: "ã†ã‚‰ãŒãˆã™", meaning: "ç¿»é¢"},
        {kanji: "ç•³ã‚€", kana: "ãŸãŸã‚€", meaning: "æ‘ºç–Š"},
        {kanji: "ç‚Šäº‹", kana: "ã™ã„ã˜", meaning: "çƒ¹é£ªäº‹å‹™"},
        {kanji: "çŒ®ç«‹", kana: "ã“ã‚“ã ã¦", meaning: "èœå–®/èœè‰²"},
        {kanji: "åã", kana: "ã¯ã", meaning: "å˜”å"},
        {kanji: "é…”ã£æ‰•ã„", kana: "ã‚ˆã£ã±ã‚‰ã„", meaning: "é†‰æ¼¢"},
        {kanji: "ç›®çœ©", kana: "ã‚ã¾ã„", meaning: "æšˆçœ©"},
        {kanji: "å¥¢ã‚‹", kana: "ãŠã”ã‚‹", meaning: "è«‹å®¢"},
        {kanji: "æ•¬æ„", kana: "ã‘ã„ã„", meaning: "æ•¬æ„"},
        {kanji: "è¶³é¦–", kana: "ã‚ã—ãã³", meaning: "è…³è¸"},
        {kanji: "æ»ã‚‹", kana: "ã²ã­ã‚‹", meaning: "æ‰­è½‰/æ‰­å‚·"},
        {kanji: "è¡€æ¶²", kana: "ã‘ã¤ãˆã", meaning: "è¡€æ¶²"},
        {kanji: "è¨ºæ–­", kana: "ã—ã‚“ã ã‚“", meaning: "è¨ºæ–·"},
        {kanji: "äºˆé˜²", kana: "ã‚ˆã¼ã†", meaning: "é é˜²"},
        {kanji: "éª¨æŠ˜", kana: "ã“ã£ã›ã¤", meaning: "éª¨æŠ˜"},
        {kanji: "ç™½é«ª", kana: "ã—ã‚‰ãŒ", meaning: "ç™½é ­é«®"},
        {kanji: "æ«›", kana: "ãã—", meaning: "æ¢³å­"},
        {kanji: "æ¢³ã‹ã™", kana: "ã¨ã‹ã™", meaning: "æ¢³ç†"},
        {kanji: "æ„åœ°æ‚ª", kana: "ã„ã˜ã‚ã‚‹", meaning: "å£å¿ƒçœ¼"},
        {kanji: "åšã‹ã¾ã—ã„", kana: "ã‚ã¤ã‹ã¾ã—ã„", meaning: "åšè‡‰çš®"},
        {kanji: "å‘æ€¯", kana: "ã²ãã‚‡ã†", meaning: "å‘é„™"},
        {kanji: "æ´¾æ‰‹", kana: "ã¯ã§", meaning: "èŠ±ä¿"},
        {kanji: "åœ°å‘³", kana: "ã˜ã¿", meaning: "æ¨¸ç´ "},

        // --- æ–°å¢è©å½™ (å‰¯è©/é€£æ¥è©/ä¸€èˆ¬) ---
        {kanji: "ä½™è¨ˆ", kana: "ã‚ˆã‘ã„", meaning: "å¤šé¤˜/ç„¡è¬‚/æ›´åŠ "},
        {kanji: "å¤§ã—ãŸ", kana: "ãŸã„ã—ãŸ", meaning: "äº†ä¸èµ·çš„/åš´é‡çš„(å¤šæ¥å¦å®š)"},
        {kanji: "ç ´ç‰‡", kana: "ã¯ã¸ã‚“", meaning: "ç¢ç‰‡"},
        {kanji: "åˆ‡ã£æ›ã‘", kana: "ãã£ã‹ã‘", meaning: "å¥‘æ©Ÿ/é–‹ç«¯"},
        {kanji: "å¥‘æ©Ÿ", kana: "ã‘ã„ã", meaning: "å¥‘æ©Ÿ"},
        {kanji: "å¸¸ã«", kana: "ã¤ã­ã«", meaning: "ç¸½æ˜¯/ç¶“å¸¸"},
        {kanji: "å©ã", kana: "ãŸãŸã", meaning: "æ•²/æ‰“/æ‹"},
        {kanji: "å¤«ã€…", kana: "ãã‚Œãã‚Œ", meaning: "å„è‡ª/åˆ†åˆ¥"},
        {kanji: "æ¯”è¼ƒ", kana: "ã²ã‹ã", meaning: "æ¯”è¼ƒ"},
        {kanji: "å ã‚ã‚‹", kana: "ã—ã‚ã‚‹", meaning: "å æœ‰/å æ“š"},
        {kanji: "åºã«", kana: "ã¤ã„ã§ã«", meaning: "é †ä¾¿"},
        {kanji: "é€†ã•ã«", kana: "ã•ã‹ã•ã«", meaning: "é¡›å€’/ç›¸ååœ°"},
        {kanji: "ãƒãƒªãƒãƒª", kana: "ã°ã‚Šã°ã‚Š", meaning: "å……æ»¿å¹¹å‹/ç™¼å‡ºå˜å±è²"},
        {kanji: "ä¸­ã¦ã‚‚", kana: "ãªã‹ã§ã‚‚", meaning: "å…¶ä¸­/å°¤å…¶æ˜¯"},
        {kanji: "æ—¢ã«", kana: "ã™ã§ã«", meaning: "å·²ç¶“"},
        {kanji: "ä½•ã¨ã‹", kana: "ãªã‚“ã¨ã‹", meaning: "ç¸½ç®—/è¨­æ³•"},
        {kanji: "ãŸã£ãŸ", kana: "ãŸã£ãŸ", meaning: "åƒ…/åª"},
        {kanji: "æ¬¡ç¬¬ã«", kana: "ã—ã ã„ã«", meaning: "é€æ¼¸"},
        {kanji: "æ»…å¤šã«", kana: "ã‚ã£ãŸã«", meaning: "å¹¾ä¹ä¸(æ¥å¦å®š)"},
        {kanji: "å¿…æ­»ã«", kana: "ã²ã£ã—ã«", meaning: "æ‹¼å‘½åœ°"},
        {kanji: "ä¸€å…ˆãš", kana: "ã²ã¨ã¾ãš", meaning: "æš«ä¸”/å§‘ä¸”"},
        {kanji: "é »ã‚Šã«", kana: "ã—ãã‚Šã«", meaning: "é »ç¹åœ°/å±¢æ¬¡"},
        {kanji: "æ…‹ã¨", kana: "ã‚ã–ã¨", meaning: "æ•…æ„"},
        {kanji: "è¿‘ã€…", kana: "ã¡ã‹ã˜ã‹", meaning: "æœ€è¿‘/ä¸ä¹…"},
        {kanji: "æ¡ˆå¤–", kana: "ã‚ã‚“ãŒã„", meaning: "æ„å¤–åœ°"},
        {kanji: "æ¡ˆã®å®š", kana: "ã‚ã‚“ã®ã˜ã‚‡ã†", meaning: "æœç„¶/ä¸å‡ºæ‰€æ–™"},
        {kanji: "è‡ªã‚‰", kana: "ã¿ãšã‹ã‚‰", meaning: "è¦ªè‡ª/è‡ªèº«"},
        {kanji: "å‡ã£ãã‚Š", kana: "ã˜ã£ãã‚Š", meaning: "ä»”ç´°åœ°/æ…¢æ…¢åœ°"},
        {kanji: "ä¸€ç¬", kana: "ã„ã£ã—ã‚…ã‚“", meaning: "ä¸€ç¬é–“"},
        {kanji: "è‹¥å¹²", kana: "ã˜ã‚ƒã£ã‹ã‚“", meaning: "è‹¥å¹²/å°‘è¨±"},
        {kanji: "ä»Šã‚„", kana: "ã„ã¾ã‚„", meaning: "ç¾åœ¨/å¦‚ä»Š"},
        {kanji: "æ¬ ã‹ã›ãªã„", kana: "ã‹ã‹ã›ãªã„", meaning: "ä¸å¯æˆ–ç¼ºçš„"},
        {kanji: "æ¬ å“", kana: "ã‘ã£ã´ã‚“", meaning: "ç¼ºè²¨"},
        {kanji: "ã›ã£ã›ã¨", kana: "ã›ã£ã›ã¨", meaning: "æ‹¼å‘½åœ°/å­œå­œä¸å€¦"},
        {kanji: "å¿…ãšã—ã‚‚", kana: "ã‹ãªã‚‰ãšã—ã‚‚", meaning: "æœªå¿…(æ¥å¦å®š)"},
        {kanji: "è‹¥ã—ã‚‚", kana: "ã‚‚ã—ã‚‚", meaning: "è¬ä¸€/å¦‚æœ"},
        {kanji: "æ—©é€Ÿ", kana: "ã•ã£ãã", meaning: "ç«‹åˆ»/é¦¬ä¸Š"},

        // --- æ—…éŠ/äº¤é€š ---
        {kanji: "åº§å¸­", kana: "ã–ã›ã", meaning: "åº§ä½"},
        {kanji: "å¾€å¾©", kana: "ãŠã†ãµã", meaning: "å¾€è¿”"},
        {kanji: "ç‰‡é“", kana: "ã‹ãŸã¿ã¡", meaning: "å–®ç¨‹"},
        {kanji: "ç‰‡æ–¹", kana: "ã‹ãŸã»ã†", meaning: "å–®æ–¹/å¦ä¸€é‚Š"}, // note: original said "kataha" likely katahou
        {kanji: "ç‰‡æ€ã„", kana: "ã‹ãŸãŠã‚‚ã„", meaning: "å–®æˆ€"},
        {kanji: "æ‰“ã¡åˆã‚ã›", kana: "ã†ã¡ã‚ã‚ã›", meaning: "å•†é‡/ç¢°é ­æœƒè­°"},
        {kanji: "å›£ä½“", kana: "ã ã‚“ãŸã„", meaning: "åœ˜é«”"},
        {kanji: "å€‹äºº", kana: "ã“ã˜ã‚“", meaning: "å€‹äºº"},
        {kanji: "æ—¥å¸°ã‚Š", kana: "ã²ãŒãˆã‚Š", meaning: "ç•¶æ—¥ä¾†å›"},
        {kanji: "å®¿æ³Š", kana: "ã—ã‚…ãã¯ã", meaning: "ä½å®¿"},
        {kanji: "äºŒæ³Šä¸‰æ—¥", kana: "ã«ã¯ãã¿ã£ã‹", meaning: "ä¸‰å¤©å…©å¤œ"},
        {kanji: "åˆ¥è˜", kana: "ã¹ã£ãã†", meaning: "åˆ¥å¢…"},
        {kanji: "æ»åœ¨ã™ã‚‹", kana: "ãŸã„ã–ã„ã™ã‚‹", meaning: "åœç•™/æ»¯ç•™"},
        {kanji: "é€šã†", kana: "ã‹ã‚ˆã†", meaning: "å¾€ä¾†/é€šå‹¤/ä¸Šå­¸"},
        {kanji: "é€šã‚‹", kana: "ã¨ãŠã‚‹", meaning: "é€šé(è‡ª)"},
        {kanji: "é€šã™", kana: "ã¨ãŠã™", meaning: "è®“...é€šé(ä»–)"},
        {kanji: "è¦‹é€ã‚‹", kana: "ã¿ãŠãã‚‹", meaning: "é€è¡Œ"},
        {kanji: "å‡ºè¿ãˆã‚‹", kana: "ã§ã‚€ã‹ãˆã‚‹", meaning: "è¿æ¥"},
        {kanji: "é€è¿", kana: "ãã†ã’ã„", meaning: "æ¥é€"},
        {kanji: "åæ‰€", kana: "ã‚ã„ã—ã‚‡", meaning: "åå‹"},
        {kanji: "å·¡ã‚‹", kana: "ã‚ãã‚‹", meaning: "å·¡éŠ/å‘¨éŠ"},
        {kanji: "æ´»æ°—", kana: "ã‹ã£ã", meaning: "æ´»åŠ›/ç”Ÿæ°£"},
        {kanji: "æ··é›‘", kana: "ã“ã‚“ã–ã¤", meaning: "æ··é›œ/æ“æ“ "},
        {kanji: "å¤§é€šã‚Š", kana: "ãŠãŠã©ãŠã‚Š", meaning: "å¤§é¦¬è·¯"},
        {kanji: "å·æ²¿ã„", kana: "ã‹ã‚ãã„", meaning: "æ²¿è‘—æ²³å·"},
        {kanji: "åœç•™æ‰€", kana: "ã¦ã„ã‚Šã‚…ã†ã˜ã‚‡", meaning: "å…¬è»Šç«™/æ‹›å‘¼ç«™"},
        {kanji: "è¿·ã†", kana: "ã¾ã‚ˆã†", meaning: "è¿·è·¯/çŒ¶è±«"},
        {kanji: "å£²åº—", kana: "ã°ã„ã¦ã‚“", meaning: "è²©è³£éƒ¨"},
        {kanji: "æ¨ªæ–­", kana: "ãŠã†ã ã‚“", meaning: "æ©«è¶Š"},
        {kanji: "ç¸¦æ–­", kana: "ã˜ã‚…ã†ã ã‚“", meaning: "ç¸±è²«"},
        {kanji: "ç™ºã¤", kana: "ãŸã¤", meaning: "å‡ºç™¼"},
        {kanji: "ç€ã", kana: "ã¤ã", meaning: "æŠµé”"},
        {kanji: "åˆ°ç€", kana: "ã¨ã†ã¡ã‚ƒã", meaning: "æŠµé”"},
        {kanji: "çµŒç”±", kana: "ã‘ã„ã‚†", meaning: "ç¶“ç”±"},
        {kanji: "é£›è¡Œæ©Ÿ", kana: "ã²ã“ã†ã", meaning: "é£›æ©Ÿ"},
        {kanji: "è¡Œæ–¹", kana: "ã‚†ããˆ", meaning: "è¡Œè¹¤/å»å‘"},
        {kanji: "ä¹—è»Š", kana: "ã˜ã‚‡ã†ã—ã‚ƒ", meaning: "ä¹˜è»Š"},
        {kanji: "ä¸‹è»Š", kana: "ã’ã—ã‚ƒ", meaning: "ä¸‹è»Š"},
        {kanji: "å›æ•°åˆ¸", kana: "ã‹ã„ã™ã†ã‘ã‚“", meaning: "å›æ•¸ç¥¨"},
        {kanji: "å®šå“¡", kana: "ã¦ã„ã„ã‚“", meaning: "å®šå“¡/è¦å®šäººæ•¸"},
        {kanji: "ä¹—å®¢", kana: "ã˜ã‚‡ã†ãã‚ƒã", meaning: "ä¹˜å®¢"},

        // --- åœ°ç†/å¤©æ°£ ---
        {kanji: "åœ°å½¢", kana: "ã¡ã‘ã„", meaning: "åœ°å½¢"},
        {kanji: "åˆ—å³¶", kana: "ã‚Œã£ã¨ã†", meaning: "åˆ—å³¶"},
        {kanji: "å—åŒ—", kana: "ãªã‚“ã¼ã", meaning: "å—åŒ—"},
        {kanji: "å—åŒ—æ±è¥¿", kana: "ãªã‚“ã¼ãã¨ã†ã–ã„", meaning: "å—åŒ—æ±è¥¿"},
        {kanji: "åŠå³¶", kana: "ã¯ã‚“ã¨ã†", meaning: "åŠå³¶"},
        {kanji: "å²¬", kana: "ã¿ã•ã", meaning: "æµ·è§’/å²¬"},
        {kanji: "ãªã ã‚‰ã‹", kana: "ãªã ã‚‰ã‹", meaning: "å¹³ç·©"},
        {kanji: "é ‚ä¸Š", kana: "ã¡ã‚‡ã†ã˜ã‚‡ã†", meaning: "å±±é ‚"},
        {kanji: "éº“", kana: "ãµã‚‚ã¨", meaning: "å±±è…³"},
        {kanji: "å±±è…¹", kana: "ã•ã‚“ã·ã", meaning: "å±±è…°"},
        {kanji: "å›²ã¾ã‚ŒãŸ", kana: "ã‹ã“ã¾ã‚ŒãŸ", meaning: "è¢«åŒ…åœçš„"},
        {kanji: "ç›†åœ°", kana: "ã¼ã‚“ã¡", meaning: "ç›†åœ°"},
        {kanji: "å¹³é‡", kana: "ã¸ã„ã‚„", meaning: "å¹³åŸ"},
        {kanji: "æ¹§ã", kana: "ã‚ã", meaning: "æ¹§å‡º/æ²¸é¨°"},
        {kanji: "è–„æš—ã„", kana: "ã†ã™ãã‚‰ã„", meaning: "æ˜æš—"},
        {kanji: "åœ°ç›¤", kana: "ã˜ã°ã‚“", meaning: "åœ°ç›¤"},
        {kanji: "ç ‚æ¼ ", kana: "ã•ã°ã", meaning: "æ²™æ¼ "},
        {kanji: "å²¸", kana: "ãã—", meaning: "å²¸é‚Š"},
        {kanji: "æ²–", kana: "ãŠã", meaning: "å¤–æµ·"},
        {kanji: "è¿‘ã¥ã", kana: "ã¡ã‹ã¥ã", meaning: "é è¿‘"},
        {kanji: "åµ", kana: "ã‚ã‚‰ã—", meaning: "æš´é¢¨é›¨"},
        {kanji: "å·»ãè¾¼ã‚€", kana: "ã¾ãã“ã‚€", meaning: "æ²å…¥"},
        {kanji: "éœ§", kana: "ãã‚Š", meaning: "éœ§"},
        {kanji: "æ°—å€™", kana: "ãã“ã†", meaning: "æ°£å€™"},
        {kanji: "å¤•ç«‹", kana: "ã‚†ã†ã ã¡", meaning: "é›·é™£é›¨"},
        {kanji: "é¢¨æ™¯", kana: "ãµã†ã‘ã„", meaning: "é¢¨æ™¯"},
        {kanji: "çœºã‚ã‚‹", kana: "ãªãŒã‚ã‚‹", meaning: "çœºæœ›/å‡è¦–"},
        {kanji: "çœºã‚", kana: "ãªãŒã‚", meaning: "æ™¯è‰²/è¦–é‡"},
        {kanji: "è¦‹ä¸Šã’ã‚‹", kana: "ã¿ã‚ã’ã‚‹", meaning: "ä»°æœ›"},
        {kanji: "è¦‹ä¸‹ã‚ã™", kana: "ã¿ãŠã‚ã™", meaning: "ä¿¯ç°"},
        {kanji: "åœ°å¹³ç·š", kana: "ã¡ã¸ã„ã›ã‚“", meaning: "åœ°å¹³ç·š"},
        {kanji: "å¤•æ—¥", kana: "ã‚†ã†ã²", meaning: "å¤•é™½"},
        {kanji: "æš®ã‚Œã‚‹", kana: "ãã‚Œã‚‹", meaning: "å¤©é»‘/æ—¥æš®"},
        {kanji: "æš®ã‚Œ", kana: "ãã‚Œ", meaning: "é»ƒæ˜/å¹´æœ«"},
        {kanji: "æ–°å­¦æœŸ", kana: "ã—ã‚“ãŒã£ã", meaning: "æ–°å­¸æœŸ"},
        {kanji: "ä¸Šæ—¬", kana: "ã˜ã‚‡ã†ã˜ã‚…ã‚“", meaning: "ä¸Šæ—¬"},
        {kanji: "ä¸­æ—¬", kana: "ã¡ã‚…ã†ã˜ã‚…ã‚“", meaning: "ä¸­æ—¬"},
        {kanji: "ä¸‹æ—¬", kana: "ã’ã˜ã‚…ã‚“", meaning: "ä¸‹æ—¬"},
        {kanji: "æ¢…é›¨ãŒæ˜ã‘ã‚‹", kana: "ã¤ã‚†ãŒã‚ã‘ã‚‹", meaning: "å‡ºæ¢…/æ¢…é›¨å­£çµæŸ"},
        {kanji: "å¤œæ˜ã‘", kana: "ã‚ˆã‚ã‘", meaning: "é»æ˜"},
        {kanji: "æ¹¿åº¦", kana: "ã—ã¤ã©", meaning: "æ¿•åº¦"},
        {kanji: "è’¸ã—æš‘ã„", kana: "ã‚€ã—ã‚ã¤ã„", meaning: "æ‚¶ç†±"},
        {kanji: "æ±—ã‚’æ»ã", kana: "ã‚ã›ã‚’ã‹ã", meaning: "æµæ±—"},
        {kanji: "æœå®Ÿ", kana: "ã‹ã˜ã¤", meaning: "æœå¯¦"},
        {kanji: "å®Ÿã‚‹", kana: "ã¿ã®ã‚‹", meaning: "çµæœå¯¦/æˆç†Ÿ"},
        {kanji: "å®Ÿ", kana: "ã¿", meaning: "æœå¯¦"},
        {kanji: "ç¨²", kana: "ã„ã­", meaning: "ç¨»å­"},
        {kanji: "å°–ã‚‹", kana: "ã¨ãŒã‚‹", meaning: "å°–éŠ³"},
        {kanji: "å¥½å¤©", kana: "ã“ã†ã¦ã‚“", meaning: "å¥½å¤©æ°£"},
        {kanji: "æ¿€ã—ã„", kana: "ã¯ã’ã—ã„", meaning: "æ¿€çƒˆçš„"},
        {kanji: "éœœ", kana: "ã—ã‚‚", meaning: "éœœ"},
        {kanji: "å¹é›ª", kana: "ãµã¶ã", meaning: "æš´é¢¨é›ª"},
        {kanji: "å‡ãˆã‚‹", kana: "ã“ã”ãˆã‚‹", meaning: "å‡åƒµ"},
        {kanji: "æŒã¡ä¸Šã’ã‚‹", kana: "ã‚‚ã¡ã‚ã’ã‚‹", meaning: "èˆ‰èµ·/æŠ¬èµ·"},
        {kanji: "å–ã‚Šä¸Šã’ã‚‹", kana: "ã¨ã‚Šã‚ã’ã‚‹", meaning: "æ¡ç´/å¥ªå–"},
        {kanji: "çœŸã£èµ¤", kana: "ã¾ã£ã‹", meaning: "é€šç´…"},
        {kanji: "çœŸã£ç™½", kana: "ã¾ã£ã—ã‚", meaning: "ç´”ç™½"},
        {kanji: "çœŸã£æš—", kana: "ã¾ã£ãã‚‰", meaning: "æ¼†é»‘"},
        {kanji: "çœŸã£é’", kana: "ã¾ã£ã•ãŠ", meaning: "è”šè—/è‡‰è‰²è’¼ç™½"},
        {kanji: "æƒšã‚“ã‚„ã‚Š", kana: "ã¼ã‚“ã‚„ã‚Š", meaning: "ç™¼å‘†/æ¨¡ç³Š"},
        {kanji: "é¥ã‹ã«", kana: "ã¯ã‚‹ã‹ã«", meaning: "é™é åœ°/é é åœ°"},
        {kanji: "ä¸€æ®µã¨", kana: "ã„ã¡ã ã‚“ã¨", meaning: "æ›´åŠ /è¶Šç™¼"},
        {kanji: "æ±ºã¾ã£ã¦", kana: "ãã¾ã£ã¦", meaning: "ä¸€å®š/ç¸½æ˜¯"},
        {kanji: "è©²å½“", kana: "ãŒã„ã¨ã†", meaning: "ç¬¦åˆ/ç›¸ç•¶"},

        // --- å­¸æ ¡/å­¸æ¥­ ---
        {kanji: "å…ç«¥", kana: "ã˜ã©ã†", meaning: "å…’ç«¥", noKanjiInQ: true}, // Special flag
        {kanji: "å¹¼å…", kana: "ã‚ˆã†ã˜", meaning: "å¹¼å…’"},
        {kanji: "é€²å­¦", kana: "ã—ã‚“ãŒã", meaning: "å‡å­¸"},
        {kanji: "è»¢æ ¡", kana: "ã¦ã‚“ã“ã†", meaning: "è½‰å­¸"},
        {kanji: "åœ¨å­¦ä¸­", kana: "ã–ã„ãŒãã¡ã‚…ã†", meaning: "åœ¨å­¸ä¸­"},
        {kanji: "é™¢ç”Ÿ", kana: "ã„ã‚“ã›ã„", meaning: "ç ”ç©¶ç”Ÿ"},
        {kanji: "ã‚¼ãƒŸ", kana: "ãœã¿", meaning: "ç ”è¨æœƒ/å°ˆé¡Œè¨è«–"},
        {kanji: "æ¼”ç¿’", kana: "ãˆã‚“ã—ã‚…ã†", meaning: "æ¼”ç¿’/ç·´ç¿’"},
        {kanji: "å˜ä½", kana: "ãŸã‚“ã„", meaning: "å­¸åˆ†/å–®ä½"},
        {kanji: "ä¼‘è¬›", kana: "ãã‚…ã†ã“ã†", meaning: "åœèª²"},
        {kanji: "è‡ªç¿’", kana: "ã˜ã—ã‚…ã†", meaning: "è‡ªç¿’"},
        {kanji: "å­¦æœŸ", kana: "ãŒã£ã", meaning: "å­¸æœŸ"},
        {kanji: "æ™‚é–“å‰²", kana: "ã˜ã‹ã‚“ã‚ã‚Š", meaning: "èª²è¡¨"},
        {kanji: "è¬›ç¾©", kana: "ã“ã†ã", meaning: "è¬›ç¾©/æˆèª²"},
        {kanji: "ç§‘ç›®", kana: "ã‹ã‚‚ã", meaning: "ç§‘ç›®"},
        {kanji: "è¬›å¸«", kana: "ã“ã†ã—", meaning: "è¬›å¸«"},
        {kanji: "å®Ÿç¿’", kana: "ã˜ã£ã—ã‚…ã†", meaning: "å¯¦ç¿’"},
        {kanji: "æ¡ç‚¹", kana: "ã•ã„ã¦ã‚“", meaning: "è©•åˆ†"},
        {kanji: "æœŸæœ«", kana: "ãã¾ã¤", meaning: "æœŸæœ«"},
        {kanji: "ä¸­é–“è©¦é¨“", kana: "ã¡ã‚…ã†ã‹ã‚“ã—ã‘ã‚“", meaning: "æœŸä¸­è€ƒ"},
        {kanji: "ç­†è¨˜", kana: "ã²ã£ã", meaning: "ç­†è¨˜/ç­†è©¦"},
        {kanji: "ç­”æ¡ˆ", kana: "ã¨ã†ã‚ã‚“", meaning: "ç­”æ¡ˆå·"},
        {kanji: "å•ã„", kana: "ã¨ã„", meaning: "å•é¡Œ/æå•"},
        {kanji: "æ•™ç§‘æ›¸", kana: "ãã‚‡ã†ã‹ã—ã‚‡", meaning: "æ•™ç§‘æ›¸"},
        {kanji: "æˆç¸¾", kana: "ã›ã„ã›ã", meaning: "æˆç¸¾"},
        {kanji: "è©•ä¾¡", kana: "ã²ã‚‡ã†ã‹", meaning: "è©•åƒ¹"},
        {kanji: "å„ªã‚Œã‚‹", kana: "ã™ãã‚Œã‚‹", meaning: "å„ªç§€/å‡ºè‰²"},
        {kanji: "åŠ£ã‚‹", kana: "ãŠã¨ã‚‹", meaning: "åŠ£æ–¼/éœè‰²"},
        {kanji: "å­¦å•", kana: "ãŒãã‚‚ã‚“", meaning: "å­¸å•"},
        {kanji: "ç‰©ç†", kana: "ã¶ã¤ã‚Š", meaning: "ç‰©ç†"},
        {kanji: "åŒ–å­¦", kana: "ã‹ãŒã", meaning: "åŒ–å­¸"},
        {kanji: "ç”Ÿç‰©å­¦", kana: "ã›ã„ã¶ã¤ãŒã", meaning: "ç”Ÿç‰©å­¸"},
        {kanji: "çµŒæ¸ˆå­¦", kana: "ã‘ã„ã–ã„ãŒã", meaning: "ç¶“æ¿Ÿå­¸"},
        {kanji: "äººæ–‡", kana: "ã˜ã‚“ã¶ã‚“", meaning: "äººæ–‡"},
        {kanji: "å“²å­¦", kana: "ã¦ã¤ãŒã", meaning: "å“²å­¸"},
        {kanji: "å°‚æ”»", kana: "ã›ã‚“ã“ã†", meaning: "å°ˆæ”»"},
        {kanji: "ç ”ç©¶", kana: "ã‘ã‚“ãã‚…ã†", meaning: "ç ”ç©¶"},
        {kanji: "å¦¥å½“", kana: "ã ã¨ã†", meaning: "å¦¥ç•¶"},
        {kanji: "å®Ÿé¨“", kana: "ã˜ã£ã‘ã‚“", meaning: "å¯¦é©—"},
        {kanji: "è¨¼æ˜", kana: "ã—ã‚‡ã†ã‚ã„", meaning: "è­‰æ˜"},
        {kanji: "å­¦ä¼š", kana: "ãŒã£ã‹ã„", meaning: "å­¸æœƒ"},
        {kanji: "èªã‚ã‚‹", kana: "ã¿ã¨ã‚ã‚‹", meaning: "èªå¯/æ‰¿èª"},

        // --- å·¥ä½œ/å•†æ¥­ ---
        {kanji: "å°±è·", kana: "ã—ã‚…ã†ã—ã‚‡ã", meaning: "å°±è·"},
        {kanji: "ç ”ä¿®", kana: "ã‘ã‚“ã—ã‚…ã†", meaning: "é€²ä¿®/ç ”ç¿’"},
        {kanji: "ä¸€æµ", kana: "ã„ã¡ã‚Šã‚…ã†", meaning: "ä¸€æµ"},
        {kanji: "æœˆçµ¦", kana: "ã’ã£ãã‚…ã†", meaning: "æœˆè–ª"},
        {kanji: "æ€ ã‘ã‚‹", kana: "ãªã¾ã‘ã‚‹", meaning: "å·æ‡¶/æ€ æƒ°"},
        {kanji: "æ€ ã‘è€…", kana: "ãªã¾ã‘ã‚‚ã®", meaning: "æ‡¶æƒ°çš„äºº"},
        {kanji: "ç†±ä¸­", kana: "ã­ã£ã¡ã‚…ã†", meaning: "ç†±è¡·"},
        {kanji: "ä¼‘æš‡", kana: "ãã‚…ã†ã‹", meaning: "ä¼‘å‡"},
        {kanji: "ç”³è«‹", kana: "ã—ã‚“ã›ã„", meaning: "ç”³è«‹"},
        {kanji: "æ€ã„ã¤ã", kana: "ãŠã‚‚ã„ã¤ã", meaning: "æƒ³åˆ°/æƒ³å‡º"},
        {kanji: "ææ¡ˆ", kana: "ã¦ã„ã‚ã‚“", meaning: "ææ¡ˆ"},
        {kanji: "æ…ŒãŸã ã—ã„", kana: "ã‚ã‚ãŸã ã—ã„", meaning: "æ…Œå¿™/åŒ†å¿™"},
        {kanji: "èƒ½ç‡", kana: "ã®ã†ã‚Šã¤", meaning: "æ•ˆç‡"},
        {kanji: "å¤±æ¥­", kana: "ã—ã¤ãã‚‡ã†", meaning: "å¤±æ¥­"},
        {kanji: "ç¨¼ã", kana: "ã‹ã›ã", meaning: "è³ºéŒ¢"},
        {kanji: "å„²ã‘ã‚‹", kana: "ã‚‚ã†ã‘ã‚‹", meaning: "è³ºéŒ¢/ç²å¾—åˆ©ç›Š"},
        {kanji: "å„²ã‹ã‚‹", kana: "ã‚‚ã†ã‹ã‚‹", meaning: "è³ºéŒ¢/ç›ˆåˆ©"},
        {kanji: "ç¨¼åƒ", kana: "ã‹ã©ã†", meaning: "é‹è½‰/æ“ä½œ"},
        {kanji: "ç ´ç”£", kana: "ã¯ã•ã‚“", meaning: "ç ´ç”¢"},
        {kanji: "æ½°ã‚Œã‚‹", kana: "ã¤ã¶ã‚Œã‚‹", meaning: "å€’é–‰/å£“å£"},
        {kanji: "çµŒå–¶", kana: "ã‘ã„ãˆã„", meaning: "ç¶“ç‡Ÿ"},
        {kanji: "é€²å‡º", kana: "ã—ã‚“ã—ã‚…ã¤", meaning: "é€²å…¥/æ‰“å…¥(å¸‚å ´)"},
        {kanji: "è³‡æœ¬é‡‘", kana: "ã—ã»ã‚“ãã‚“", meaning: "è³‡æœ¬é‡‘"},
        {kanji: "å‹Ÿé›†", kana: "ã¼ã—ã‚…ã†", meaning: "å‹Ÿé›†/æ‹›å‹Ÿ"},
        {kanji: "é‡å½¹", kana: "ã˜ã‚…ã†ã‚„ã", meaning: "é‡è‡£/è‘£äº‹/é«˜éšä¸»ç®¡"},
        {kanji: "æŒ‡ç¤º", kana: "ã—ã˜", meaning: "æŒ‡ç¤º"},
        {kanji: "æ‰èƒ½", kana: "ã•ã„ã®ã†", meaning: "æ‰èƒ½"},
        {kanji: "åŠ´åƒ", kana: "ã‚ã†ã©ã†", meaning: "å‹å‹•"},
        {kanji: "çµ„åˆ", kana: "ãã¿ã‚ã„", meaning: "å·¥æœƒ/çµ„åˆ"},
        {kanji: "æ¡ä»¶", kana: "ã˜ã‚‡ã†ã‘ã‚“", meaning: "æ¢ä»¶"},
        {kanji: "æ”¹å–„", kana: "ã‹ã„ãœã‚“", meaning: "æ”¹å–„"},
        {kanji: "è¦æ±‚", kana: "ã‚ˆã†ãã‚…ã†", meaning: "è¦æ±‚"},
        {kanji: "åˆ©å®³", kana: "ã‚ŠãŒã„", meaning: "åˆ©å®³"},
        {kanji: "åˆ©ç›Š", kana: "ã‚Šãˆã", meaning: "åˆ©ç›Š"},
        {kanji: "å¼è­·å£«", kana: "ã¹ã‚“ã”ã—", meaning: "å¾‹å¸«"},
        {kanji: "é‡‘è", kana: "ãã‚“ã‚†ã†", meaning: "é‡‘è"},
        {kanji: "ä¸€æµæ ¡", kana: "ã„ã¡ã‚Šã‚…ã†ã“ã†", meaning: "ä¸€æµå­¸æ ¡"},
        {kanji: "å¼•ãå‡ºã™", kana: "ã²ãã ã™", meaning: "ææ¬¾/å¼•å‡º"},
        {kanji: "å¼•ãå—ã‘ã‚‹", kana: "ã²ãã†ã‘ã‚‹", meaning: "æ‰¿æ“”/æ¥å—"},
        {kanji: "å°‚é–€è·", kana: "ã›ã‚“ã‚‚ã‚“ã—ã‚‡ã", meaning: "å°ˆè·"},
        {kanji: "æŠ€è¡“è·", kana: "ãã˜ã‚…ã¤ã—ã‚‡ã", meaning: "æŠ€è¡“è·"},

        // --- åª’é«”/å¨›æ¨‚ ---
        {kanji: "å ±é“", kana: "ã»ã†ã©ã†", meaning: "å ±å°"},
        {kanji: "å ±é“é™£", kana: "ã»ã†ã©ã†ã˜ã‚“", meaning: "æ¡è¨ªåœ˜/è¨˜è€…ç¾¤"},
        {kanji: "åºƒå‘Š", kana: "ã“ã†ã“ã", meaning: "å»£å‘Š"},
        {kanji: "ãƒã‚¹ã‚³ãƒŸ", kana: "ã¾ã™ã“ã¿", meaning: "å¤§çœ¾å‚³æ’­åª’é«”"},
        {kanji: "æœåˆŠ", kana: "ã¡ã‚‡ã†ã‹ã‚“", meaning: "æ—©å ±"},
        {kanji: "å¤•åˆŠ", kana: "ã‚†ã†ã‹ã‚“", meaning: "æ™šå ±"},
        {kanji: "å–æ", kana: "ã—ã‚…ã–ã„", meaning: "æ¡è¨ª"},
        {kanji: "å…¥æ‰‹", kana: "ã«ã‚…ã†ã—ã‚…", meaning: "åˆ°æ‰‹/ç²å¾—"},
        {kanji: "ç™ºè¡Œ", kana: "ã¯ã£ã“ã†", meaning: "ç™¼è¡Œ"},
        {kanji: "ä¸–é–“", kana: "ã›ã‘ã‚“", meaning: "ä¸–äºº/ç¤¾æœƒ"},
        {kanji: "è©±é¡Œ", kana: "ã‚ã ã„", meaning: "è©±é¡Œ"},
        {kanji: "æ³¨ç›®", kana: "ã¡ã‚…ã†ã‚‚ã", meaning: "æ³¨ç›®"},
        {kanji: "è¦‹å‡ºã—", kana: "ã¿ã ã—", meaning: "æ¨™é¡Œ"},
        {kanji: "ä¸€é¢", kana: "ã„ã¡ã‚ã‚“", meaning: "é ­ç‰ˆ/ä¸€é¢"},
        {kanji: "ç·åˆæ¬„", kana: "ãã†ã”ã†ã‚‰ã‚“", meaning: "ç¶œåˆç‰ˆé¢"},
        {kanji: "å›½éš›æ¬„", kana: "ã“ãã•ã„ã‚‰ã‚“", meaning: "åœ‹éš›ç‰ˆé¢"},
        {kanji: "å†…å®¹", kana: "ãªã„ã‚ˆã†", meaning: "å…§å®¹"},
        {kanji: "ä¸»ãª", kana: "ãŠã‚‚ãª", meaning: "ä¸»è¦çš„"},
        {kanji: "é©åˆ‡ãª", kana: "ã¦ãã›ã¤ãª", meaning: "é©ç•¶çš„"},
        {kanji: "èˆˆå‘³æ·±ã„", kana: "ãã‚‡ã†ã¿ã¶ã‹ã„", meaning: "æ„Ÿèˆˆè¶£çš„/æœ‰è¶£çš„"},
        {kanji: "è©³ç´°", kana: "ã—ã‚‡ã†ã•ã„", meaning: "è©³ç´°"},
        {kanji: "å¤§ã¾ã‹", kana: "ãŠãŠã¾ã‹", meaning: "å¤§æ¦‚/ç²—ç•¥"},
        {kanji: "æ­£ç¢º", kana: "ã›ã„ã‹ããª", meaning: "æ­£ç¢º"},
        {kanji: "å‡ºé±ˆç›®", kana: "ã§ãŸã‚‰ã‚", meaning: "èƒ¡èªªå…«é“/è’å”"},
        {kanji: "è¡æ’ƒçš„", kana: "ã—ã‚‡ã†ã’ãã¦ã", meaning: "è¡æ“Šæ€§çš„"},
        {kanji: "ç•ªçµ„", kana: "ã°ã‚“ãã¿", meaning: "ç¯€ç›®"},
        {kanji: "æ”¾é€", kana: "ã»ã†ãã†", meaning: "å»£æ’­/æ’­æ”¾"},
        {kanji: "å†æ”¾é€", kana: "ã•ã„ã»ã†ãã†", meaning: "é‡æ’­"},
        {kanji: "åˆ¶ä½œ", kana: "ã›ã„ã•ã", meaning: "è£½ä½œ"},
        {kanji: "å®£ä¼", kana: "ã›ã‚“ã§ã‚“", meaning: "å®£å‚³"},
        {kanji: "CM", kana: "ã“ã¾ãƒ¼ã—ã‚ƒã‚‹", meaning: "å»£å‘Š(Commercial)"},
        {kanji: "æ˜ åƒ", kana: "ãˆã„ãã†", meaning: "å½±åƒ"},
        {kanji: "éŸ³å£°", kana: "ãŠã‚“ã›ã„", meaning: "è²éŸ³/èªéŸ³"},
        {kanji: "è‘—åäºº", kana: "ã¡ã‚‡ã‚ã„ã˜ã‚“", meaning: "åäºº"},
        {kanji: "æ—…", kana: "ãŸã³", meaning: "æ—…è¡Œ"},
        {kanji: "å¨¯æ¥½", kana: "ã”ã‚‰ã", meaning: "å¨›æ¨‚"},
        {kanji: "ã‚¯ã‚¤ã‚º", kana: "ãã„ãš", meaning: "çŒœè¬"},
        {kanji: "é€€å±ˆ", kana: "ãŸã„ãã¤", meaning: "ç„¡èŠ/æ‚¶"},
        {kanji: "è©°ã‚‰ãªã„", kana: "ã¤ã¾ã‚‰ãªã„", meaning: "ç„¡è¶£/ç„¡èŠ"},
        {kanji: "ä¸‹ã‚‰ãªã„", kana: "ãã ã‚‰ãªã„", meaning: "ç„¡åƒ¹å€¼/ç„¡èŠ(è²¶ç¾©)"},
        {kanji: "è©•åˆ¤", kana: "ã²ã‚‡ã†ã°ã‚“", meaning: "è©•åƒ¹/åè²"},
        {kanji: "é­…åŠ›", kana: "ã¿ã‚Šã‚‡ã", meaning: "é­…åŠ›"},
        {kanji: "è¨ªå•", kana: "ã»ã†ã‚‚ã‚“", meaning: "è¨ªå•"},

        // --- IT/æ“ä½œ ---
        {kanji: "ä½œæˆ", kana: "ã•ãã›ã„", meaning: "è£½ä½œ/å»ºç«‹"},
        {kanji: "å‰Šé™¤", kana: "ã•ãã˜ã‚‡", meaning: "åˆªé™¤"},
        {kanji: "æ¶ˆå»", kana: "ã—ã‚‡ã†ãã‚‡", meaning: "æ¶ˆå»"},
        {kanji: "å—ä¿¡", kana: "ã˜ã‚…ã—ã‚“", meaning: "æ¥æ”¶(ä¿¡ä»¶/è¨Šè™Ÿ)"},
        {kanji: "é€å—ä¿¡", kana: "ãã†ã˜ã‚…ã—ã‚“", meaning: "æ”¶ç™¼"},
        {kanji: "æ·»ä»˜", kana: "ã¦ã‚“ã·", meaning: "é™„åŠ /é™„ä»¶"},
        {kanji: "ãƒ•ã‚©ãƒ³ãƒˆ", kana: "ãµã‰ã‚“ã¨", meaning: "å­—å‹"},
        {kanji: "ç¨®é¡", kana: "ã—ã‚…ã‚‹ã„", meaning: "ç¨®é¡"},
        {kanji: "é€šä¿¡æ©Ÿèƒ½", kana: "ã¤ã†ã—ã‚“ãã®ã†", meaning: "é€šè¨ŠåŠŸèƒ½"},
        {kanji: "è¨­å®š", kana: "ã›ã£ã¦ã„", meaning: "è¨­å®š"},
        {kanji: "æŒ¿å…¥", kana: "ãã†ã«ã‚…ã†", meaning: "æ’å…¥"},
        {kanji: "æ‹¡å¤§", kana: "ã‹ãã ã„", meaning: "æ“´å¤§"},
        {kanji: "ç¸®å°", kana: "ã—ã‚…ãã—ã‚‡ã†", meaning: "ç¸®å°"},
        {kanji: "ä¿å­˜", kana: "ã»ãã‚“", meaning: "ä¿å­˜"},
        {kanji: "æ¥ç¶š", kana: "ã›ã¤ãã", meaning: "é€£æ¥"},
        {kanji: "æ¤œç´¢", kana: "ã‘ã‚“ã•ã", meaning: "æª¢ç´¢/æœå°‹"},
        {kanji: "å…¬å¼", kana: "ã“ã†ã—ã", meaning: "æ­£å¼/å…¬å¼"},
        {kanji: "èµ·å‹•", kana: "ãã©ã†", meaning: "å•Ÿå‹•"},
        {kanji: "ç«‹ã¡ä¸Šã’ã‚‹", kana: "ãŸã¡ã‚ã’ã‚‹", meaning: "å•Ÿå‹•(é›»è…¦/å°ˆæ¡ˆ)"},
        {kanji: "ç«‹ã¡ä¸ŠãŒã‚‹", kana: "ãŸã¡ã‚ãŒã‚‹", meaning: "ç«™èµ·ä¾†/å•Ÿå‹•(è‡ª)"},
        {kanji: "ç››ã‚Šä¸Šã’ã‚‹", kana: "ã‚‚ã‚Šã‚ã’ã‚‹", meaning: "ç‚’ç†±(æ°£æ°›)/å †é«˜"},
        {kanji: "çµ‚äº†", kana: "ã—ã‚…ã†ã‚Šã‚‡ã†", meaning: "çµæŸ"},
        {kanji: "ä¸­å¤", kana: "ã¡ã‚…ã†ã“", meaning: "äºŒæ‰‹"},
        {kanji: "æ“ä½œ", kana: "ãã†ã•", meaning: "æ“ä½œ"},
        {kanji: "å…±æœ‰", kana: "ãã‚‡ã†ã‚†ã†", meaning: "å…±äº«"},
        {kanji: "ä¿®ç†", kana: "ã—ã‚…ã†ã‚Š", meaning: "ä¿®ç†"}
    ];

    let quizQueue = [];
    let wrongCount = 0;
    const TARGET_QUESTIONS = 20;

    // ============================================
    // 2. æ ¸å¿ƒæ¼”ç®—æ³•ï¼šç”Ÿæˆ JLPT é¢¨æ ¼å¹²æ“¾é …
    // ============================================
    function generateSmartDistractors(correctKana) {
        let distractors = new Set();
        let attempts = 0;

        while (distractors.size < 3 && attempts < 50) {
            attempts++;
            let fake = correctKana;
            const strategy = Math.floor(Math.random() * 6); // å¢åŠ ç­–ç•¥

            // ç­–ç•¥ A: æ¿éŸ³/åŠæ¿éŸ³æ··æ·† (JLPT ç¶“å…¸)
            // é‡å°ã€Œç­”æ¡ˆã€touan vs douan, ã€Œäºˆé˜²ã€yobou vs yohou
            if (strategy === 0) {
                if (fake.includes('ã¨')) fake = fake.replace('ã¨', 'ã©');
                else if (fake.includes('ã©')) fake = fake.replace('ã©', 'ã¨');
                else if (fake.includes('ã‹')) fake = fake.replace('ã‹', 'ãŒ');
                else if (fake.includes('ãŒ')) fake = fake.replace('ãŒ', 'ã‹');
                else if (fake.includes('ãŸ')) fake = fake.replace('ãŸ', 'ã ');
                else if (fake.includes('ã ')) fake = fake.replace('ã ', 'ãŸ');
                else if (fake.includes('ã¯')) fake = fake.replace('ã¯', 'ã±');
            } 
            // ç­–ç•¥ B: é•·éŸ³æ“ä½œ (JLPT ç¶“å…¸)
            // é‡å°ã€Œå°ã€shou vs sho, ã€Œå£ã€kou vs ko
            else if (strategy === 1) {
                if (fake.includes('ã†')) fake = fake.replace('ã†', ''); // ç§»é™¤é•·éŸ³
                else if (fake.match(/[ãŠã“ãã¨ã©ã®ã‚‚ã‚]/)) fake += 'ã†'; // å¢åŠ oæ®µé•·éŸ³
                else if (fake.match(/[ãˆã‘ã›ã¦ã­ã‚ã‚Œ]/)) fake += 'ã„'; // å¢åŠ eæ®µé•·éŸ³
            }
            // ç­–ç•¥ C: ä¿ƒéŸ³æ“ä½œ
            // é‡å°ã€Œå¤±æ¥­ã€shitsugyou vs shikkou
            else if (strategy === 2) {
                if (fake.includes('ã£')) fake = fake.replace('ã£', 'ã¤'); // ç§»é™¤ä¿ƒéŸ³
                else if (fake.length > 2 && !fake.includes('ã£')) {
                    // éš¨æ©Ÿæ’å…¥ä¿ƒéŸ³
                    const pos = Math.floor(Math.random() * (fake.length - 1)) + 1;
                    fake = fake.slice(0, pos) + 'ã£' + fake.slice(pos);
                }
            }
            // ç­–ç•¥ D: è‡ªå‹•è©/ä»–å‹•è©å¹²æ“¾ (User Requirement)
            // é‡å° agaru vs ageru
            else if (strategy === 3) {
                if (fake.endsWith('ã‹ã‚‹')) fake = fake.replace('ã‹ã‚‹', 'ã‘ã‚‹');
                else if (fake.endsWith('ã‘ã‚‹')) fake = fake.replace('ã‘ã‚‹', 'ã‹ã‚‹');
                else if (fake.endsWith('ã‚ã‚‹')) fake = fake.replace('ã‚ã‚‹', 'ãˆã‚‹');
                else if (fake.endsWith('ãˆã‚‹')) fake = fake.replace('ãˆã‚‹', 'ã‚ã‚‹');
                else if (fake.endsWith('ã')) fake = fake.replace('ã', 'ã'); // æ€¥ã -> æ€¥ã type
            }
            // ç­–ç•¥ E: æ‹—éŸ³æ··æ·†
            // shou vs shu, kyou vs ku
            else if (strategy === 4) {
                 if (fake.includes('ã‚ƒ')) fake = fake.replace('ã‚ƒ', '');
                 else if (fake.includes('ã‚…')) fake = fake.replace('ã‚…', '');
                 else if (fake.includes('ã‚‡')) fake = fake.replace('ã‚‡', '');
            }
            // ç­–ç•¥ F: å°¾éŸ³æ›¿æ›
            else {
                const endings = ['ã„', 'ã‚“', 'ã¤', 'ã†', 'ã'];
                fake = fake.slice(0, -1) + endings[Math.floor(Math.random() * endings.length)];
            }

            // æª¢æŸ¥æœ‰æ•ˆæ€§ï¼šä¸ç­‰æ–¼åŸå­—ã€é•·åº¦åˆç†
            if (fake !== correctKana && fake.length >= 1) {
                distractors.add(fake);
            }
        }

        // å¦‚æœæ¼”ç®—æ³•ç”Ÿä¸å¤ ï¼Œå¾é¡Œåº«éš¨æ©ŸæŠ“ç™¼éŸ³ç›¸è¿‘çš„
        while (distractors.size < 3) {
            const randomWord = rawData[Math.floor(Math.random() * rawData.length)];
            if (randomWord.kana !== correctKana) distractors.add(randomWord.kana);
        }

        return Array.from(distractors);
    }

    function generateMeaningDistractors(correctMeaning) {
        let distractors = new Set();
        while (distractors.size < 3) {
            const randomWord = rawData[Math.floor(Math.random() * rawData.length)];
            // é¿å…é¸åˆ°æ„æ€å¤ªåƒçš„ (ç°¡å–®éæ¿¾)
            if (randomWord.meaning !== correctMeaning) {
                distractors.add(randomWord.meaning);
            }
        }
        return Array.from(distractors);
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // ============================================
    // 3. æ¸¬é©—æ§åˆ¶æµç¨‹
    // ============================================
    function startQuiz() {
        const shuffledWords = shuffle([...rawData]).slice(0, TARGET_QUESTIONS);
        
        // é¡Œå‹åˆ†é… (10è®€éŸ³ + 10æ„æ€)
        const readingQ = shuffledWords.slice(0, 10).map(word => {
            // å¦‚æœå–®å­—æœ‰ noKanjiInQ æ¨™è¨˜ (å¦‚ å…’ç«¥)ï¼Œå‰‡å¼·åˆ¶è·³éè®€éŸ³é¡Œï¼Œæ”¹ç‚ºæ„æ€é¡Œ
            if (word.noKanjiInQ) {
                return {
                    type: 'MEANING',
                    text: word.kana, // é¡¯ç¤ºå‡å
                    correct: word.meaning,
                    options: shuffle([word.meaning, ...generateMeaningDistractors(word.meaning)]),
                    raw: word
                };
            }
            return {
                type: 'READING',
                text: word.kanji,
                correct: word.kana,
                options: shuffle([word.kana, ...generateSmartDistractors(word.kana)]),
                raw: word
            };
        });

        const meaningQ = shuffledWords.slice(10, 20).map(word => ({
            type: 'MEANING',
            text: word.noKanjiInQ ? word.kana : word.kanji, // å…’ç«¥é¡¯ç¤ºå‡å
            correct: word.meaning,
            options: shuffle([word.meaning, ...generateMeaningDistractors(word.meaning)]),
            raw: word
        }));

        quizQueue = shuffle([...readingQ, ...meaningQ]);
        wrongCount = 0;

        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        if (quizQueue.length === 0) {
            showResult();
            return;
        }

        const q = quizQueue[0];
        const remaining = quizQueue.length;
        const progress = TARGET_QUESTIONS - remaining;
        const percentage = Math.min((progress / TARGET_QUESTIONS) * 100, 100);

        document.getElementById('progress-text').innerText = `å·²å®Œæˆ: ${progress} / ${TARGET_QUESTIONS}`;
        document.getElementById('queue-text').innerText = `å‰©é¤˜: ${remaining}`;
        document.getElementById('progress-fill').style.width = `${percentage}%`;

        document.getElementById('q-type-badge').innerText = q.type === 'READING' ? 'é¸å‡ºæ­£ç¢ºç™¼éŸ³' : 'é¸å‡ºä¸­æ–‡æ„æ€';
        document.getElementById('q-word').innerText = q.text;
        
        // å¦‚æœæ˜¯æ„æ€é¡Œï¼Œæç¤ºä¸è¦é¡¯ç¤ºè®€éŸ³ä»¥å…æ´©é¡Œï¼Œåªåœ¨ç­”éŒ¯é¡¯ç¤º
        document.getElementById('q-hint').innerText = ''; 
        document.getElementById('feedback-msg').innerText = '';

        const container = document.getElementById('options-container');
        container.innerHTML = '';

        q.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => handleAnswer(btn, opt, q);
            container.appendChild(btn);
        });
    }

    function handleAnswer(btn, selected, q) {
        const allBtns = document.querySelectorAll('.opt-btn');
        allBtns.forEach(b => b.disabled = true);

        if (selected === q.correct) {
            btn.classList.add('correct');
            document.getElementById('feedback-msg').style.color = 'var(--success)';
            document.getElementById('feedback-msg').innerText = 'æ­£è§£ï¼ â­•';
            
            setTimeout(() => {
                quizQueue.shift();
                renderQuestion();
            }, 800);
        } else {
            btn.classList.add('wrong');
            wrongCount++;
            
            // æ‰¾å‡ºæ­£è§£
            allBtns.forEach(b => {
                if (b.innerText === q.correct) b.classList.add('correct');
            });

            document.getElementById('feedback-msg').style.color = 'var(--error)';
            const correctInfo = q.type === 'READING' ? q.raw.meaning : q.raw.kana;
            document.getElementById('feedback-msg').innerText = `éŒ¯èª¤ï¼ (${q.raw.kanji} = ${q.raw.kana})`;

            // éŒ¯é¡Œæ‡²ç½°ï¼šé‡æ–°æ’å…¥éšŠåˆ—
            const retryQ = quizQueue.shift();
            retryQ.options = shuffle(retryQ.options);
            quizQueue.push(retryQ);

            setTimeout(() => {
                renderQuestion();
            }, 2500);
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('result-stats').innerHTML = 
            `ç¸½å…±é¡Œç›®ï¼š20 é¡Œ<br>è¢«å¹²æ“¾æ¬¡æ•¸(éŒ¯èª¤)ï¼š${wrongCount} æ¬¡`;
    }
</script>

</body>
</html>
